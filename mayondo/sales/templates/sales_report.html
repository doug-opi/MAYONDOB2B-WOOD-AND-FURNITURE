{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4>Sales Report</h4>
 
  <div class="card mb-4 p-3">
    <p><strong>Total Sales:</strong> UGX {{ total_sales|floatformat:0|intcomma }}</p>
    <p><strong>Number of Sales:</strong> {{ sale_count }}</p>
  </div>

  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th>Date</th>
        <th>Customer</th>
        <th>Payment Type</th>
        <th>Total Amount (UGX)</th>
      </tr>
    </thead>
    <tbody>
      {% for sale in sales %}
      <tr>
        <td>{{ sale.created_at|date:"d M, Y" }}</td>
        <td>{{ sale.customer_name }}</td>
        <td>{{ sale.payment_type }}</td>
        <td>{{ sale.total_amount|floatformat:0|intcomma }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4" class="text-center">No sales found for the selected period.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
